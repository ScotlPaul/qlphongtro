<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::content})}">
<body>
<div th:fragment="content" class="container-fluid">

  <!-- Breadcrumb -->
  <nav aria-label="breadcrumb" class="mb-4">
    <ol class="breadcrumb">
      <li class="breadcrumb-item active" aria-current="page">Trang ch·ªß</li>
    </ol>
  </nav>

  <!-- Ti√™u ƒë·ªÅ -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold text-dark">üìä T·ªïng quan h·ªá th·ªëng</h2>
  </div>

  <!-- Th·ªëng k√™ nhanh -->
  <div class="row g-3">
    <div class="col-md-3">
      <div class="card text-white bg-primary shadow-sm">
        <div class="card-body text-center">
          <h5 class="card-title">Ph√≤ng</h5>
          <h3 th:text="${roomCount}">0</h3>
          <p class="card-text">T·ªïng s·ªë ph√≤ng</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card text-white bg-success shadow-sm">
        <div class="card-body text-center">
          <h5 class="card-title">Ng∆∞·ªùi thu√™</h5>
          <h3 th:text="${tenantCount}">0</h3>
          <p class="card-text">ƒêang thu√™ ph√≤ng</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card text-white bg-warning shadow-sm">
        <div class="card-body text-center">
          <h5 class="card-title">H√≥a ƒë∆°n</h5>
          <h3 th:text="${invoiceCount}">0</h3>
          <p class="card-text">T·ªïng s·ªë h√≥a ƒë∆°n</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card text-white bg-danger shadow-sm">
        <div class="card-body text-center">
          <h5 class="card-title">Ng∆∞·ªùi d√πng</h5>
          <h3 th:text="${userCount}">0</h3>
          <p class="card-text">T√†i kho·∫£n trong h·ªá th·ªëng</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Bi·ªÉu ƒë·ªì -->
  <div class="card mt-5 shadow-sm">
    <div class="card-header bg-light fw-semibold">
      Th·ªëng k√™ thu√™ ph√≤ng theo th√°ng
    </div>
    <div class="card-body">
      <canvas id="bookingChart" height="90"></canvas>
    </div>
  </div>

  <script th:src="@{https://cdn.jsdelivr.net/npm/chart.js}"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const ctx = document.getElementById('bookingChart');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Th1', 'Th2', 'Th3', 'Th4', 'Th5', 'Th6', 'Th7', 'Th8', 'Th9', 'Th10', 'Th11', 'Th12'],
          datasets: [{
            label: 'S·ªë l∆∞·ª£t thu√™ ph√≤ng',
            data: [3, 5, 8, 10, 9, 6, 7, 4, 11, 12, 9, 14],
            borderWidth: 1,
            backgroundColor: '#0d6efd'
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero: true }
          },
          plugins: {
            legend: { display: false },
            tooltip: {
              backgroundColor: '#0d6efd',
              titleColor: '#fff',
              bodyColor: '#fff'
            }
          }
        }
      });
    });
  </script>

</div>
</body>
</html>
